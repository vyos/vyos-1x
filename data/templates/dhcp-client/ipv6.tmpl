# generated by dhcp.py
# man https://www.unix.com/man-page/debian/5/dhcp6c.conf/

interface {{ ifname }} {
    request domain-name-servers;
    request domain-name;
{%  if dhcpv6_prm_only %}
    information-only;
{%  endif %}
{%  if not dhcpv6_temporary %}
    send ia-na 1; # non-temporary address
{%  endif %}
{%  if dhcpv6_pd_interfaces %}
    send ia-pd 2; # prefix delegation
{%  endif %}
};

{%  if not dhcpv6_temporary %}
id-assoc na 1 {
    # Identity association NA
};
{%  endif %}

{%  if dhcpv6_pd_interfaces %}
id-assoc pd 2 {
{%  if dhcpv6_pd_length %}
    prefix ::/{{ dhcpv6_pd_length }} infinity;
{%  endif %}
{%  for intf in dhcpv6_pd_interfaces %}
    prefix-interface {{ intf.ifname }} {
{%    if intf.sla_id %}
        sla-id {{ intf.sla_id }};
{%    endif %}
{%    if intf.sla_len %}
        sla-len {{ intf.sla_len }};
{%    endif %}
{%    if intf.if_id %}
        ifid {{ intf.if_id  }};
{%    endif %}
    };
{%  endfor %}
};
{%  endif %}

