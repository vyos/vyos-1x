### Autogenerated by dynamic_dns.py ###
daemon=1m
syslog=yes
ssl=yes

{% for iface in interface %}
# ddclient configuration for interface "{{ iface }}"
{%   if interface[iface].use_web is defined and interface[iface].use_web is not none %}
{%     set web_skip = ", web-skip='" + interface[iface].use_web.skip + "'" if interface[iface].use_web.skip is defined else '' %}
use=web, web='{{ interface[iface].use_web.url }}'{{ web_skip }}
{%   else %}
use=if, if={{ iface }}
{%   endif %}

{%   if interface[iface].rfc2136 is defined and interface[iface].rfc2136 is not none %}
{%     for rfc2136, config in interface[iface].rfc2136.items() %}
{%       for dns_record in config.record if config.record is defined %}
# RFC2136 dynamic DNS configuration for {{ rfc2136 }}, {{ config.zone }}, {{ dns_record }}
server={{ config.server }}
protocol=nsupdate
password={{ config.keyfile }}
ttl={{ config.ttl }}
zone={{ config.zone }}
{{ dns_record }}

{%       endfor %}
{%     endfor %}
{%   endif %}

{%   if interface[iface].service is defined and interface[iface].service is not none %}
{%     for service, config in interface[iface].service.items() %}
{%       for dns_record in config.host_name %}
# DynDNS provider configuration for {{ service }}, {{ dns_record }}
protocol={{ config.protocol }},
max-interval=28d,
login={{ config.login }},
password='{{ config.password }}',
{%         if config.server %}
server={{ config.server }},
{%         endif %}
{%         if config.zone %}
zone={{ config.zone }},
{%         endif %}
{{ dns_record }}

{%       endfor %}
{%     endfor %}
{%   endif %}
{% endfor %}
